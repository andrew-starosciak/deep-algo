# Context Reports Archive

This directory contains structured context reports generated by the **Context Gatherer** agent.

## Purpose

Context reports provide comprehensive research and codebase analysis that feed directly into TaskMaster's playbook generation. Each report eliminates the "missing context" problem by front-loading all research before implementation begins.

## Report Structure

Every context report follows this 6-section structure:

1. **Request Analysis** - User requirements (explicit + implicit)
2. **Codebase Context** - Existing architecture, patterns, integration points
3. **External Research** - Crate evaluation, API docs, design patterns
4. **Architectural Recommendations** - Proposed design with rationale
5. **Edge Cases & Constraints** - Error scenarios, testing requirements
6. **TaskMaster Handoff Package** - Ready-to-execute task breakdown

## How to Read Reports

### For Users
- Read **Section 1** (Request Analysis) to verify requirements captured correctly
- Read **Section 4** (Architectural Recommendations) for design decisions
- Skim **Section 6** for implementation scope and estimates

### For TaskMaster Agent
- **Primary Input**: Section 6 (TaskMaster Handoff Package)
- Contains: MUST DO/MUST NOT DO, exact file paths, task dependencies, verification criteria
- Use this section to generate atomic playbooks without additional research

### For Karen Agent
- **Reference**: Section 6 verification criteria
- Quality gates defined per-task
- Edge cases documented in Section 5

## Naming Convention

Reports are named: `YYYY-MM-DD_feature-name.md`

Example:
- `2025-10-02_hyperliquid-futures.md` - Futures trading support
- `2025-10-02_multi-account-support.md` - Multiple Hyperliquid accounts
- `2025-10-03_risk-limit-orders.md` - Advanced order types

## Index

| Date | Feature | Status | Report | Complexity | LOC |
|------|---------|--------|--------|------------|-----|
| 2025-10-02 | Example: Multi-Account Support | ✅ Template | [example-context-report.md](example-context-report.md) | MEDIUM | ~275 |
| 2025-10-02 | Hyperliquid OHLCV Data Fetching | ✅ Complete | [2025-10-02_hyperliquid-ohlcv-fetching.md](2025-10-02_hyperliquid-ohlcv-fetching.md) | MEDIUM | ~350 |
| 2025-10-03 | Backtest Metrics & Quad MA Strategy | ✅ Complete | [2025-10-03_backtest-metrics-quad-ma.md](2025-10-03_backtest-metrics-quad-ma.md) | MEDIUM | ~309 |
| 2025-10-03 | Interactive TUI Multi-Token Parameter Sweep | ✅ Complete | [2025-10-03_multi-token-param-sweep-tui.md](2025-10-03_multi-token-param-sweep-tui.md) | HIGH | ~1564 |

## Workflow Integration

```
User Request
     │
     ▼
┌────────────────────┐
│ Context Gatherer   │ ← Research + Codebase Analysis
│                    │   (7 phases)
└────────┬───────────┘
         │
         ▼ (generates)
┌────────────────────┐
│  Context Report    │ ← Saved to this directory
│  (6 sections)      │
└────────┬───────────┘
         │
         ▼ (Section 6)
┌────────────────────┐
│    TaskMaster      │ ← Generates atomic playbook
│                    │   (no additional research needed)
└────────┬───────────┘
         │
         ▼
┌────────────────────┐
│      Karen         │ ← Quality assurance
└────────────────────┘
```

## Quality Standards

All context reports must meet these criteria:

- ✅ All 6 sections complete (no TODO placeholders)
- ✅ File paths with exact line numbers (verified via Read tool)
- ✅ MUST DO / MUST NOT DO lists explicit and unambiguous
- ✅ Task dependencies mapped
- ✅ Verification criteria defined per-task
- ✅ Edge cases documented
- ✅ External research traceable (URLs, crate versions)
- ✅ Architectural decisions explained with rationale

## Maintenance

- **Add entry** to index table above when new report created
- **Mark status** as ✅ Complete, ⏳ In Progress, or ❌ Blocked
- **Link report** using relative path
- **Update LOC** estimate if implementation deviates
- **Archive old reports** after feature completion (move to `archive/` subdirectory)

## Example Usage

**Scenario**: User requests "Add support for multiple Hyperliquid accounts"

1. Context Gatherer researches and generates: `2025-10-02_multi-account-support.md`
2. Report saved to this directory
3. Index table updated with new entry
4. TaskMaster invoked with Section 6 from report
5. TaskMaster generates playbook at `.claude/playbooks/2025-10-02_multi-account-support.md`
6. Karen validates implementation against report's verification criteria

---

**Last Updated**: 2025-10-03
**Total Reports**: 4 (1 template + 3 active features)
